<!DOCTYPE html>
<html>

<head>
    <title>Direct API Test</title>
</head>

<body>
    <h1>Direct Supabase API Test</h1>
    <div id="result">Testing...</div>
    <script>
        const SUPABASE_URL = 'https://qzznzxomuevealskbmfa.supabase.co';
        const SUPABASE_ANON_KEY = 'sb_publishable_g-FXVDg1vRSevmu6X9Pe8w_mEOSF6oX';

        const resultDiv = document.getElementById('result');

        async function testAPI() {
            resultDiv.innerHTML = '<p>Testing direct REST API call...</p>';

            try {
                const startTime = Date.now();
                const response = await fetch(`${SUPABASE_URL}/rest/v1/shelters?select=*&limit=1`, {
                    headers: {
                        'apikey': SUPABASE_ANON_KEY,
                        'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
                        'Content-Type': 'application/json'
                    }
                });
                const duration = Date.now() - startTime;

                const text = await response.text();
                resultDiv.innerHTML += `<p>Status: ${response.status}</p>`;
                resultDiv.innerHTML += `<p>Duration: ${duration}ms</p>`;
                resultDiv.innerHTML += `<p>Response: <pre>${text}</pre></p>`;

            } catch (e) {
                resultDiv.innerHTML += `<p style="color:red">Error: ${e.message}</p>`;
            }
        }

        testAPI();
    </script>
</body>

</html>